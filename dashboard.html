<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food Match</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="dashboard-container">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="logo">
          <img src="img/logo food match.jpg" alt="logo food match" />
          <h1>Food Match</h1>
        </div>
        <div class="user-info">
          <img
            id="sidebarPhoto"
            class="profile-photo"
            src="https://picsum.photos/seed/user123/100/100.jpg"
            alt="User"
          />
          <div class="user-details">
            <h4 id="sidebarUsername">User</h4>
            <p id="membershipStatus">Status: Non-Member</p>
          </div>
        </div>
        <ul class="menu">
          <li class="active" data-page="home">
            <a href="#"><i class="fas fa-home"></i> Dapur Solusi</a>
          </li>
          <li data-page="my-recipes">
            <a href="#"><i class="fas fa-plus-circle"></i> Resep Saya</a>
          </li>
          <li data-page="recipe-kitchen">
            <a href="#"><i class="fas fa-book"></i> Dapur resep</a>
          </li>
          <li data-page="favorites">
            <a href="#"><i class="fas fa-heart"></i> Favorit</a>
          </li>
          <li data-page="membership">
            <a href="#"><i class="fas fa-star"></i>Membership</a>
          </li>
          <li data-page="settings">
            <a href="#"><i class="fas fa-cog"></i> Pengaturan</a>
          </li>
        </ul>
        <div class="logout">
          <a href="#" id="logoutLink"
            ><i class="fas fa-sign-out-alt"></i> Keluar</a
          >
        </div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Home Page -->
        <div class="page active" id="home-page">
          <div class="header">
            <h2>Masak Apa Hari Ini?</h2>
            <p>
              Masukkan bahan makanan yang kamu punya, kami akan bantu buatkan
              resepnya!
            </p>
          </div>

          <div class="ingredients-section">
            <div class="card">
              <h3><i class="fas fa-carrot"></i> Bahan-bahan</h3>
              <form id="ingredientsForm">
                <div class="input-group">
                  <textarea
                    id="ingredientsInput"
                    placeholder="Masukkan bahan-bahan yang kamu punya, pisahkan dengan koma. Contoh: ayam, wortel, bawang putih, kecap"
                    required
                  ></textarea>
                </div>
                <button type="submit" class="btn">Cari Resep</button>
              </form>
            </div>
          </div>

          <div class="recipe-section" id="recipeSection" style="display: none">
            <!-- Recipe will be populated here -->
          </div>
        </div>

        <!-- My Recipes Page -->
        <div class="page" id="my-recipes-page">
          <div class="header">
            <h2>Resep Saya</h2>
            <p>Bagikan resep buatanmu dengan orang lain</p>
          </div>

          <div class="recipe-upload-section">
            <div class="card">
              <h3><i class="fas fa-plus-circle"></i> Upload Resep Baru</h3>
              <form id="uploadRecipeForm">
                <div class="input-group">
                  <input
                    type="text"
                    id="recipeNameInput"
                    placeholder="Nama Resep"
                    required
                  />
                </div>
                <div class="input-group">
                  <input
                    type="number"
                    id="recipeTimeInput"
                    placeholder="Waktu Memasak (menit)"
                    required
                  />
                </div>
                <div class="input-group">
                  <select id="recipeDifficultyInput" required>
                    <option value="" disabled selected>
                      Pilih Tingkat Kesulitan
                    </option>
                    <option value="Mudah">Mudah</option>
                    <option value="Sedang">Sedang</option>
                    <option value="Sulit">Sulit</option>
                  </select>
                </div>
                <div class="input-group">
                  <textarea
                    id="recipeIngredientsInput"
                    placeholder="Bahan-bahan (pisahkan dengan koma)"
                    required
                  ></textarea>
                </div>
                <div class="input-group">
                  <textarea
                    id="recipeStepsInput"
                    placeholder="Langkah-langkah pembuatan (pisahkan dengan koma)"
                    required
                  ></textarea>
                </div>
                <div class="input-group">
                  <input type="file" id="recipeImageInput" accept="image/*" />
                </div>
                <button type="submit" class="btn">Upload Resep</button>
              </form>
            </div>
          </div>

          <div class="my-recipes-container" id="myRecipesContainer">
            <h3>Resep Saya</h3>
            <div class="recipe-cards" id="myRecipesList">
              <!-- User recipes will be populated here -->
            </div>
          </div>
        </div>

        <!--dapur resep-->
        <div class="page" id="recipe-kitchen-page">
          <div class="header">
            <h2>Dapur Resep</h2>
            <p>Jelajahi berbagai resep menarik untuk dicoba</p>
          </div>
          <div class="recent-recipes">
            <h3>Resep Terkini</h3>
            <div class="recipe-cards">
              <div
                class="recipe-card"
                onclick="showRecentRecipe('Nasi Goreng Spesial')"
              >
                <img
                  src="https://asset.kompas.com/crops/VcgvggZKE2VHqIAUp1pyHFXXYCs=/202x66:1000x599/1200x800/data/photo/2023/05/07/6456a450d2edd.jpg"
                  alt="Resep"
                />
                <div class="recipe-info">
                  <h4>Nasi Goreng Spesial</h4>
                  <p>30 menit • Mudah</p>
                </div>
              </div>
              <div
                class="recipe-card"
                onclick="showRecentRecipe('Mie Ayam Rumahan')"
              >
                <img
                  src="https://cnc-magazine.oramiland.com/parenting/original_images/resep_mie_ayam_rumahan_praktis_dan_enak_2.jpg"
                  alt="Resep"
                />
                <div class="recipe-info">
                  <h4>Mie Ayam Rumahan</h4>
                  <p>45 menit • Sedang</p>
                </div>
              </div>
              <div
                class="recipe-card"
                onclick="showRecentRecipe('Sayur Sop Bening')"
              >
                <img
                  src="https://asset.kompas.com/crops/H_XI84PJ3ncIRUgTavITj6tPdpA=/1x0:1280x853/1200x800/data/photo/2022/10/04/633b5a997d22d.jpg"
                  alt="Resep"
                />
                <div class="recipe-info">
                  <h4>Sayur Sop Bening</h4>
                  <p>25 menit • Mudah</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Favorites Page -->
        <div class="page" id="favorites-page">
          <div class="header">
            <h2>Resep Favorit</h2>
            <p>Kumpulan resep favorit kamu</p>
          </div>

          <div class="favorites-container" id="favoritesContainer">
            <div class="empty-state">
              <i class="fas fa-heart"></i>
              <h3>Belum ada resep favorit</h3>
              <p>
                Tambahkan resep favorit dengan menekan tombol hati pada resep
              </p>
            </div>
          </div>
        </div>

        <!-- Membership Page -->
        <div class="page" id="membership-page">
          <div class="header">
            <h2>Membership</h2>
            <p>
              Bergabung sebagai member untuk membuka fitur penuh dan input resep
              unlimited.
            </p>
          </div>

          <div class="card">
            <h3>Keuntungan Member</h3>
            <ul>
              <li>+ Akses Upload bahan Resep tanpa batas</li>
              <li>+ Menyimpan dan mengakses Favorit</li>
              <li>+ Akses ke Resep Saya</li>
              <li>+ akses upload resep pribadi</li>
              <li>+ Penghapusan iklan</li>
            </ul>

            <div style="margin-top: 20px">
              <button class="btn" id="buyMembershipBtn">Beli Membership</button>
            </div>
          </div>
        </div>

        <!-- Settings Page -->
        <div class="page" id="settings-page">
          <div class="header">
            <h2>Pengaturan</h2>
            <p>Kelola akun dan preferensi kamu</p>
          </div>

          <div class="settings-container">
            <div class="card">
              <h3>Profil Saya</h3>
              <div class="profile-settings">
                <div class="profile-Image">
                  <img
                    id="profilImage"
                    class="profile-photo"
                    src="https://picsum.photos/seed/user123/100/100.jpg"
                    alt="Profile"
                  />
                  <input
                    type="file"
                    id="changePhotoInput"
                    accept="image/*"
                    style="display: none"
                  />
                  <button class="btn secondary" id="changePhotoBtn">
                    Ganti Foto
                  </button>
                </div>
                <div class="profile-info">
                  <div class="input-group">
                    <label for="profilName">Nama Lengkap</label>
                    <input type="text" id="profileName" readonly />
                  </div>
                  <div class="input-group">
                    <label>Email</label>
                    <input type="email" id="profileEmail" readonly />
                  </div>
                  <div class="input-group">
                    <label>Username</label>
                    <input type="text" id="profileUsername" readonly />
                    <div>
                      <div class="input-group">
                      <label>Status</label>
                      <input type="text" id="profileStatus" readonly />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <h3>Akun</h3>
              <div class="account-settings">
                <button class="btn" id="logoutBtn">Log Out</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Iklan Section -->
    <div class="ads-section">
      <a href="https://www.ajinomoto.co.id/id/tentang-kami" target="_blank">
        <img
          src="https://www.ajinomoto.co.id/image/original/visit/2023/12/05/images/websiteajinomoto-sajiku-bumbu-praktis-1920x910px-1-compressed-a9ba54a9a5d10efa2f7e72016772d86b._27df481b9ce56ba85b13b262d60bb9c5.png"
          alt="Iklan Ajinomoto"
        />
      </a>
    </div>

    <!--Cek login -->
    <script>
      // Jika belum login, kembalikan ke halaman login
      const currentUser = JSON.parse(localStorage.getItem("currentUser"));
      if (!currentUser) {
        alert("⚠️ Anda belum login. Silakan login terlebih dahulu.");
        window.location.href = "index.html";
      } else {
        // Tampilkan nama & status
        window.addEventListener("DOMContentLoaded", () => {
          document.getElementById("sidebarUsername").textContent =
            currentUser.username || "User";
          document.getElementById("membershipStatus").textContent =
            currentUser.isMember ? "Status: Member" : "Status: Non-Member";
        });
      }
    </script>

    <script src="script.js"></script>
  </body>
</html>

